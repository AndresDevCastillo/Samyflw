<template>
  <NavBar></NavBar>
  <div class="inicio">
    <div class="bg">
      <div class="bubbles">
        <span style="--i:11;"></span>
        <span style="--i:22;"></span>
        <span style="--i:24;"></span>
        <span style="--i:18;"></span>
        <span style="--i:14;"></span>
        <span style="--i:23;"></span>
        <span style="--i:18;"></span>
        <span style="--i:16;"></span>
        <span style="--i:19;"></span>
        <span style="--i:20;"></span>
        <span style="--i:22;"></span>
        <span style="--i:25;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:13;"></span>
        <span style="--i:15;"></span>
        <span style="--i:26;"></span>
        <span style="--i:17;"></span>
        <span style="--i:13;"></span>
        <span style="--i:28;"></span>
        <span style="--i:11;"></span>
        <span style="--i:22;"></span>
        <span style="--i:24;"></span>
        <span style="--i:18;"></span>
        <span style="--i:14;"></span>
        <span style="--i:23;"></span>
        <span style="--i:18;"></span>
        <span style="--i:16;"></span>
        <span style="--i:19;"></span>
        <span style="--i:20;"></span>
        <span style="--i:22;"></span>
        <span style="--i:25;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:13;"></span>
        <span style="--i:15;"></span>
        <span style="--i:26;"></span>
        <span style="--i:17;"></span>
        <span style="--i:13;"></span>
        <span style="--i:28;"></span>
        <span style="--i:19;"></span>
        <span style="--i:20;"></span>
        <span style="--i:22;"></span>
        <span style="--i:25;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:13;"></span>
        <span style="--i:15;"></span>
        <span style="--i:26;"></span>
        <span style="--i:17;"></span>
        <span style="--i:13;"></span>
        <span style="--i:28;"></span>
        <span style="--i:19;"></span>
        <span style="--i:20;"></span>
        <span style="--i:22;"></span>
        <span style="--i:25;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:13;"></span>
        <span style="--i:15;"></span>
        <span style="--i:26;"></span>
        <span style="--i:17;"></span>
        <span style="--i:13;"></span>
        <span style="--i:28;"></span>
      </div>
      <div class="bubbles bubblesP">
        <span style="--i:7;"></span>
        <span style="--i:23;"></span>
        <span style="--i:26;"></span>
        <span style="--i:13;"></span>
        <span style="--i:8;"></span>
        <span style="--i:24;"></span>
        <span style="--i:15;"></span>
        <span style="--i:11;"></span>
        <span style="--i:16;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:28;"></span>
        <span style="--i:17;"></span>
        <span style="--i:20;"></span>
        <span style="--i:6;"></span>
        <span style="--i:10;"></span>
        <span style="--i:27;"></span>
        <span style="--i:14;"></span>
        <span style="--i:5;"></span>
        <span style="--i:22;"></span>
        <span style="--i:3;"></span>
        <span style="--i:1;"></span>
        <span style="--i:25;"></span>
        <span style="--i:19;"></span>
        <span style="--i:12;"></span>
        <span style="--i:9;"></span>
        <span style="--i:2;"></span>
        <span style="--i:24;"></span>
        <span style="--i:15;"></span>
        <span style="--i:11;"></span>
        <span style="--i:16;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:28;"></span>
        <span style="--i:17;"></span>
        <span style="--i:20;"></span>
        <span style="--i:6;"></span>
        <span style="--i:10;"></span>
        <span style="--i:27;"></span>
        <span style="--i:14;"></span>
        <span style="--i:5;"></span>
        <span style="--i:22;"></span>
        <span style="--i:3;"></span>
        <span style="--i:1;"></span>
        <span style="--i:25;"></span>
        <span style="--i:19;"></span>
        <span style="--i:12;"></span>
        <span style="--i:9;"></span>
        <span style="--i:2;"></span>
        <span style="--i:24;"></span>
        <span style="--i:15;"></span>
        <span style="--i:11;"></span>
        <span style="--i:16;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:28;"></span>
        <span style="--i:17;"></span>
        <span style="--i:20;"></span>
        <span style="--i:6;"></span>
        <span style="--i:10;"></span>
        <span style="--i:27;"></span>
        <span style="--i:14;"></span>
        <span style="--i:5;"></span>
        <span style="--i:22;"></span>
        <span style="--i:3;"></span>
        <span style="--i:19;"></span>
        <span style="--i:12;"></span>
        <span style="--i:9;"></span>
        <span style="--i:2;"></span>
        <span style="--i:24;"></span>
        <span style="--i:15;"></span>
        <span style="--i:11;"></span>
        <span style="--i:16;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:7;"></span>
        <span style="--i:23;"></span>
        <span style="--i:26;"></span>
        <span style="--i:13;"></span>
        <span style="--i:8;"></span>
        <span style="--i:24;"></span>
        <span style="--i:15;"></span>
        <span style="--i:11;"></span>
        <span style="--i:16;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:28;"></span>
        <span style="--i:17;"></span>
        <span style="--i:20;"></span>
        <span style="--i:6;"></span>
        <span style="--i:10;"></span>
        <span style="--i:27;"></span>
        <span style="--i:14;"></span>
        <span style="--i:5;"></span>
        <span style="--i:22;"></span>
        <span style="--i:3;"></span>
        <span style="--i:1;"></span>
        <span style="--i:25;"></span>
        <span style="--i:19;"></span>
        <span style="--i:12;"></span>
        <span style="--i:9;"></span>
        <span style="--i:2;"></span>
        <span style="--i:24;"></span>
        <span style="--i:15;"></span>
        <span style="--i:11;"></span>
        <span style="--i:16;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:28;"></span>
        <span style="--i:17;"></span>
        <span style="--i:20;"></span>
        <span style="--i:6;"></span>
        <span style="--i:10;"></span>
        <span style="--i:27;"></span>
        <span style="--i:14;"></span>
        <span style="--i:5;"></span>
        <span style="--i:22;"></span>
        <span style="--i:3;"></span>
        <span style="--i:1;"></span>
        <span style="--i:25;"></span>
        <span style="--i:19;"></span>
        <span style="--i:12;"></span>
        <span style="--i:9;"></span>
        <span style="--i:2;"></span>
        <span style="--i:24;"></span>
        <span style="--i:15;"></span>
        <span style="--i:11;"></span>
        <span style="--i:16;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
        <span style="--i:28;"></span>
        <span style="--i:17;"></span>
        <span style="--i:20;"></span>
        <span style="--i:6;"></span>
        <span style="--i:10;"></span>
        <span style="--i:27;"></span>
        <span style="--i:14;"></span>
        <span style="--i:5;"></span>
        <span style="--i:22;"></span>
        <span style="--i:3;"></span>
        <span style="--i:19;"></span>
        <span style="--i:12;"></span>
        <span style="--i:9;"></span>
        <span style="--i:2;"></span>
        <span style="--i:24;"></span>
        <span style="--i:15;"></span>
        <span style="--i:11;"></span>
        <span style="--i:16;"></span>
        <span style="--i:18;"></span>
        <span style="--i:21;"></span>
      </div>
    </div>
    <div class="fondo">
      <section id="hero">
        <div class="hero-container">
          <h1 class="mb-4 pb-0  animation-duration-1000"
            v-animateonscroll="{ enterClass: 'fadein', leaveClass: 'fadeout' }">Samyflw<br />Agencia
            <span>TikTok </span>
          </h1>
          <p class="mb-4 pb-0 animation-duration-1000"
            v-animateonscroll="{ enterClass: 'fadein', leaveClass: 'fadeout' }">
            Somos una agencia dedicada a crecer tu perfil y en ti mism@. <br />
            Ven y se parte
          </p>
          <a href="#about" class="about-btn animation-duration-1000"
            v-animateonscroll="{ enterClass: 'fadein', leaveClass: 'fadeout' }">Eventos</a>
        </div>
      </section>
      <div>
        <DataTable :value="creadores" tableStyle="min-width: 8rem" sortField="diamantes_mes_actual" :sortOrder="-1">
          <template #header>
            <div class="flex flex-wrap align-items-center justify-content-between gap-2">
              <span class="text-xl text-900 font-bold">Creadores de contenido</span>
              <div class="flex gap-2">
                <Button @click="changeCreador('A')" label="A" severity="success" />
                <Button @click="changeCreador('B')" label="B" severity="info" />
                <Button @click="changeCreador('C')" label="C" severity="danger" />
              </div>
            </div>
            <!--  <div class="containerC">
              <Clasificacion :nombre="top3[1].usuario" top="2" tipo="Platino" :foto="top3[1].foto" />
              <Clasificacion top="1" tipo="Oro" :nombre="top3[0].usuario" :foto="top3[0].foto" />
              <Clasificacion :nombre="top3[2].usuario" top="3" tipo="Cobre" :foto="top3[2].foto" />
            </div> -->
          </template>
          <Column header="#" headerStyle="width:3rem">
            <template #body="slotProps">
              {{ slotProps.index + 1 }}
            </template>
          </Column>
          <Column field="usuario" header="Creador"></Column>
          <Column field="diamantes_mes_actual" header="Puntos"></Column>
          <Column field="diamantes_mes_anterior" header="Puntos Mes Anterior"></Column>
          <Column field="grupo" header="Grupo">
            <template #body="slotProps">
              <Badge v-if="slotProps.data.grupo == 'A'" :value="slotProps.data.grupo" severity="success">
              </Badge>
              <Badge v-if="slotProps.data.grupo == 'B'" :value="slotProps.data.grupo" severity="info"></Badge>
              <Badge v-if="slotProps.data.grupo == 'C'" :value="slotProps.data.grupo" severity="danger">
              </Badge>
            </template>
          </Column>
        </DataTable>
      </div>
    </div>
  </div>
</template>
<script>
import axios from "axios";
export default {
  data: () => ({
    API: import.meta.env.VITE_APP_API,
    eventos: [],
    eventosLabel: [],
    arrayCreadores: [],
    creadores: [],
    premios: [
      {
        name: "Silla Gamer",
        image:
          "https://i.linio.com/p/c3786e7c22a6664d487c3b0c47ee67a3-product.jpg",
      },
      {
        name: "Aro de luz",
        image: "https://static.foto321.com/2021/09/aro-de-luz-321-sirve.jpg",
      },
      {
        name: "Box Ramdon",
        image:
          "https://toogeek.co/wp-content/uploads/2021/11/D_NQ_NP_864337-MCO45705901406_042021-O.jpg",
      },
    ],
    responsiveOptions: [
      {
        breakpoint: "1199px",
        numVisible: 3,
        numScroll: 1,
      },
      {
        breakpoint: "1000px",
        numVisible: 2,
        numScroll: 1,
      },
      {
        breakpoint: "750px",
        numVisible: 1,
        numScroll: 1,
      },
    ],
    topInsignias: ['Oro', 'Platino', 'Cobre'],
    arrayTop3: [],
    top3: [{
      usuario: '',
      foto: ''
    }, {
      usuario: '',
      foto: ''
    }, {
      usuario: '',
      foto: ''
    }],
  }),
  methods: {
    changeCreador(grupo) {
      for (let i = 0; i < this.arrayCreadores.length; i++) {
        if (this.arrayCreadores[i]._id === grupo) {
          this.creadores = [];
          this.creadores = this.arrayCreadores[i].usuarios;
        }
      }
      for (let i = 0; i < this.arrayTop3.length; i++) {
        if (this.arrayTop3[i].grupo === grupo) {
          this.top3 = [];
          this.top3 = this.arrayTop3[i].usuarios;
        }
      }
    },
  },
  async created() {
    await axios.get(`${this.API}/usuario/agrupados`).then((resp) => {
      this.arrayCreadores = resp.data;
      for (let i = 0; i < this.arrayCreadores.length; i++) {
        if (this.arrayCreadores[i]._id === "A") {
          this.creadores = [];
          this.creadores = this.arrayCreadores[i].usuarios;
        }
      }
    });
    await axios.get(`${this.API}/usuario/top`).then((resp) => {
      this.arrayTop3 = resp.data;
      for (let i = 0; i < this.arrayTop3.length; i++) {
        if (this.arrayTop3[i].grupo === "A") {
          this.top3 = [];
          this.top3 = this.arrayTop3[i].usuarios;
        }
      }
    });
    await axios.get(`${this.API}/evento/activo`).then((resp) => {
      this.eventos = resp.data;
      resp.data.forEach((evento) => {
        this.eventosLabel.push({
          label: evento.titulo,
          icon: "pi pi-calendar-times",
        });
      });
    });
  },
};
</script>
<style scoped>
@import url("https://fonts.googleapis.com/css2?family=Lato&family=Raleway&display=swap");
@import url('https://fonts.googleapis.com/css?family=Playfair+Display:400,900');

body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background: #0c192c;
  box-sizing: border-box;
}

.bg {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.bubbles {
  position: relative;
  display: flex;
}

.bubbles span {
  position: relative;
  min-width: 15px;
  height: 15px;
  background: #4fc3dc;
  border-radius: 50%;
  box-shadow: 0 0 0 10px #4fc3dc44,
    0 0 50px #4fc3dc,
    0 0 100px #4fc3dc;
  margin: 0 4px;
  animation: animate 15s linear infinite;
  animation-duration: calc(205s / var(--i));
}

.bubblesP span {
  min-width: 2px;
  height: 2px;
  box-shadow: 0px;
  border-radius: 100%;
  animation: animate 15s linear infinite;
  animation-duration: calc(45s / var(--i));
}

.bubbles span:nth-child(even) {
  background: #84DC16;
  box-shadow: 0 0 0 10px #84DC1644,
    0 0 50px #84DC16,
    0 0 100px #84DC16;
}


@keyframes animate {
  0% {
    transform: translateY(100vh) scale(0);
  }

  100% {
    transform: translateY(-10vh) scale(0.5);
  }
}



.containerC {
  display: flex;
  width: 100%;
  flex-wrap: wrap;
  justify-content: center;
}

#hero {
  width: 100%;
  height: 100vh;
  overflow: hidden;
  position: relative;
}

@media (min-width: 1024px) {
  #hero {
    background-attachment: fixed;
  }
}

#hero:before {
  content: "";
  position: absolute;
  bottom: 0;
  top: 0;
  left: 0;
  right: 0;
}

#hero .hero-container {
  position: absolute;
  bottom: 0;
  left: 0;
  top: 90px;
  right: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  text-align: center;
  padding: 0 15px;
}

@media (max-width: 991px) {
  #hero .hero-container {
    top: 70px;
  }
}

#hero h1 {
  color: #fff;
  font-family: "Raleway", sans-serif;
  font-size: 56px;
  font-weight: 600;
  text-transform: uppercase;
}

#hero h1 span {
  color: #84DC16;
}

@media (max-width: 991px) {
  #hero h1 {
    font-size: 34px;
  }
}

#hero p {
  color: #ebebeb;
  font-weight: 700;
  font-size: 20px;
}

@media (max-width: 991px) {
  #hero p {
    font-size: 16px;
  }
}

#hero .about-btn {
  font-family: "Raleway", sans-serif;
  font-weight: 500;
  font-size: 14px;
  letter-spacing: 1px;
  display: inline-block;
  padding: 12px 32px;
  border-radius: 50px;
  transition: 0.5s;
  line-height: 1;
  margin: 10px;
  color: #fff;
  animation-delay: 0.8s;
  border: 2px solid #84DC16;
  text-decoration: none;
}

#hero .about-btn:hover {
  background: #84DC16;
  color: #fff;
}

@keyframes pulsate-btn {
  0% {
    transform: scale(0.6, 0.6);
    opacity: 1;
  }

  100% {
    transform: scale(1, 1);
    opacity: 0;
  }
}

#about {
  background: url("../img/about-bg.jpg");
  background-size: cover;
  overflow: hidden;
  position: relative;
  color: #fff;
  padding: 60px 0 40px 0;
}

@media (min-width: 1024px) {
  #about {
    background-attachment: fixed;
  }
}

#about:before {
  content: "";
  background: rgba(13, 20, 41, 0.8);
  position: absolute;
  bottom: 0;
  top: 0;
  left: 0;
  right: 0;
}

#about h2 {
  font-size: 36px;
  font-weight: bold;
  margin-bottom: 10px;
  color: #fff;
}

#about h3 {
  font-size: 18px;
  font-weight: bold;
  text-transform: uppercase;
  margin-bottom: 10px;
  color: #fff;
}

#about p {
  font-size: 14px;
  margin-bottom: 20px;
  color: #fff;
}

.container {
  --bs-gutter-x: 1.5rem;
  --bs-gutter-y: 0;
  width: 100%;
  padding-right: calc(var(--bs-gutter-x) * 0.5);
  padding-left: calc(var(--bs-gutter-x) * 0.5);
  margin-right: auto;
  margin-left: auto;
}

.position-relative {
  position: relative !important;
}

.row {
  --bs-gutter-x: 1.5rem;
  --bs-gutter-y: 0;
  display: flex;
  flex-wrap: wrap;
  margin-top: calc(-1 * var(--bs-gutter-y));
  margin-right: calc(-0.5 * var(--bs-gutter-x));
  margin-left: calc(-0.5 * var(--bs-gutter-x));
}

.row>* {
  flex-shrink: 0;
  width: 100%;
  max-width: 100%;
  padding-right: calc(var(--bs-gutter-x) * 0.5);
  padding-left: calc(var(--bs-gutter-x) * 0.5);
  margin-top: var(--bs-gutter-y);
}

@media (min-width: 992px) {
  .col-lg-6 {
    flex: 0 0 auto;
    width: 50%;
  }

  .col-lg-3 {
    flex: 0 0 auto;
    width: 25%;
  }
}
</style>
